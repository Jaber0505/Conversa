@base = http://localhost:8000/api/v1/auth
@pwd = Test1234!
@ts = {{$timestamp}}
@email = bob{{ts}}@example.com

### Register — 201
# @name register
POST {{base}}/register/
Content-Type: application/json

{
  "email": "{{email}}",
  "password": "{{pwd}}",
  "first_name": "Bob",
  "last_name": "Dupont",
  "age": 28,
  "native_langs": ["fr"],
  "target_langs": ["en"],
  "consent_given": true
}

### Me direct — 200
GET {{base}}/me/
Authorization: Bearer {{register.response.body.$.access}}

### Refresh — 200
# @name refresh
POST {{base}}/refresh/
Content-Type: application/json

{
  "refresh": "{{register.response.body.$.refresh}}"
}

### Logout — 204 (utilise le dernier refresh)
POST {{base}}/logout/
Authorization: Bearer {{register.response.body.$.access}}
Content-Type: application/json

{
  "refresh": "{{refresh.response.body.$.refresh}}"
}

### Me après logout — 401 (strict)
GET {{base}}/me/
Authorization: Bearer {{register.response.body.$.access}}

### Login — 200 (aucun Authorization ici)
# @name login
POST {{base}}/login/
Content-Type: application/json
Authorization:

{
  "email": "{{register.response.body.$.email}}",
  "password": "{{pwd}}"
}

### Me après login — 200
GET {{base}}/me/
Authorization: Bearer {{login.response.body.$.access}}

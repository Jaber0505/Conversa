<form (ngSubmit)="onNext()" #f="ngForm" class="form">
  <div class="form__row">
    <shared-input
      id="email"
      name="email"
      type="email"
      label="{{ 'register.thirdTab.email' | t }}"
      placeholder="{{ 'auth.email_placeholder' | t }}"
      [(ngModel)]="email"
      required
      email>
    </shared-input>
  </div>

  <div class="form__row">
    <shared-input
      id="password"
      name="password"
      type="password"
      label="{{ 'register.thirdTab.password' | t }}"
      placeholder="{{ 'auth.password_placeholder' | t }}"
      [(ngModel)]="password"
      required
      minlength="8">
    </shared-input>
  </div>

  <div class="form__row">
    <label class="checkbox" for="consent_given">
      <input
        id="consent_given"
        name="consent_given"
        type="checkbox"
        [(ngModel)]="consent_given"
        #consent="ngModel"
        required />
      <span>{{ 'register.thirdTab.consent' | t }}</span>
    </label>

    <div class="error small"
         *ngIf="consent.invalid && (consent.touched || f.submitted)">
      {{ 'register.thirdTab.consent_required' | t }}
    </div>
  </div>

  <div class="actions">
    <button type="submit" class="btn btn--primary" [disabled]="f.invalid">
      {{ 'common.next' | t }}
    </button>
  </div>

  <pre class="muted" *ngIf="f.dirty">
    {{ { email: email, password: '••••••••' } | json }}
  </pre>
</form>

<navigation-buttons
  [showPrev]="true"
  [showNext]="false"
  [prevLabel]="'common.back'"
  align="between"
  (prevClick)="onPrevious()">
</navigation-buttons>

<div class="slot slot--next">
  <shared-button
    type="button"
    (click)="onNext()"
    [disabled]="(f?.invalid ?? true)">
    {{ 'common.register' | t }}
  </shared-button>
</div>
